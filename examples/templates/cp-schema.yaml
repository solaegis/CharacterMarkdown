$schema: "http://json-schema.org/draft-07/schema#"
title: "ESO Champion Points Document"
type: object
required:
  - version
  - description
  - craft
  - warfare
  - fitness
properties:
  version:
    type: integer
    minimum: 1
  description:
    type: string

  craft:
    type: array
    items:
      $ref: "#/definitions/star"

  warfare:
    type: array
    items:
      $ref: "#/definitions/star"

  fitness:
    type: array
    items:
      $ref: "#/definitions/star"

definitions:
  star:
    type: object
    required:
      - name
      - slottable
      - stages
      - points_per_stage
      - max_points
      - prerequisites
      - notes
    properties:
      id:
        description: "In-game numeric ID, if known"
        type:
          - integer
          - "null"
        minimum: 0
      name:
        type: string
        minLength: 1
      slottable:
        type: boolean
      stages:
        description: "Number of stages; null if unknown"
        type:
          - integer
          - "null"
        minimum: 0
      points_per_stage:
        description: "CP required per stage; null if unknown"
        type:
          - integer
          - "null"
        minimum: 0
      max_points:
        description: "Total CP needed to max this star; null if unknown"
        type:
          - integer
          - "null"
        minimum: 0
      prerequisites:
        description: "List of prerequisite stars and minimum points in each"
        type: array
        items:
          type: object
          required:
            - star
            - min_points
          properties:
            star:
              type: string
              minLength: 1
            min_points:
              type: integer
              minimum: 0
      notes:
        description: "Free-form notes about the star"
        type: string
        default: ""
