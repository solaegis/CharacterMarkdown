%%{init: {
  'theme': 'base',
  'themeVariables': {
    'primaryColor': '#1e4d6b',
    'primaryTextColor': '#fff',
    'primaryBorderColor': '#3498db',
    'lineColor': '#5dade2',
    'secondaryColor': '#2874a6',
    'tertiaryColor': '#0d2840',
    'background': '#061520',
    'mainBkg': '#1e4d6b',
    'nodeBorder': '#3498db',
    'clusterBkg': '#0d2840',
    'titleColor': '#85c1e9',
    'edgeLabelBackground': '#0d2840'
  },
  'flowchart': {
    'curve': 'basis',
    'nodeSpacing': 50,
    'rankSpacing': 60,
    'padding': 15
  }
}}%%

flowchart LR
    subgraph RECOVERY["ğŸ’§ RECOVERY"]
        direction TB
        35["ğŸ”² Rejuvenation<br/><small>5stg Ã— 10pts = 50 max</small>"]
        34["ğŸ”² Fortified<br/><small>50stg Ã— 1pts = 50 max</small>"]
        2["ğŸ”² Boundless Vitality<br/><small>50stg Ã— 1pts = 50 max</small>"]
    end

    subgraph SPEED["âš¡ SPEED & MOBILITY"]
        direction TB
        38["âœ… Sprinter<br/><small>2stg Ã— 10pts = 20 max</small>"]
        42["âœ… Hasty<br/><small>2stg Ã— 8pts = 16 max</small>"]
        272["ğŸ”² Thrill of the Hunt<br/><small>2stg Ã— 25pts = 50 max</small>"]
        270["ğŸ”² Celerity<br/><small>5stg Ã— 10pts = 50 max</small>"]
        271["ğŸ”² Refreshing Stride<br/><small>5stg Ã— 10pts = 50 max</small>"]
        62["ğŸ”² Rousing Speed<br/><small>5stg Ã— 10pts = 50 max</small>"]
    end

    subgraph SHIELD["ğŸ›¡ï¸ SHIELD & BLOCK"]
        direction TB
        113["âœ… Hero's Vigor<br/><small>2stg Ã— 10pts = 20 max</small>"]
        63["ğŸ”² Shield Master<br/><small>5stg Ã— 10pts = 50 max</small>"]
        46["ğŸ”² Bastion<br/><small>5stg Ã— 10pts = 50 max</small>"]
        50["âœ… Bashing Brutality<br/><small>2stg Ã— 10pts = 20 max</small>"]
    end

    subgraph MAGIC["âœ¨ MAGIC SUSTAIN"]
        direction TB
        58["âœ… Tempered Soul<br/><small>2stg Ã— 25pts = 50 max</small>"]
        56["ğŸ”² Spirit Mastery<br/><small>50stg Ã— 1pts = 50 max</small>"]
        61["ğŸ”² Arcane Alacrity<br/><small>5stg Ã— 10pts = 50 max</small>"]
        47["ğŸ”² Siphoning Spells<br/><small>5stg Ã— 10pts = 50 max</small>"]
        45["âœ… Piercing Gaze<br/><small>3stg Ã— 10pts = 30 max</small>"]
    end

    subgraph HEALTH["â¤ï¸ HEALTH & SURVIVAL"]
        direction TB
        48["ğŸ”² Bloody Renewal<br/><small>5stg Ã— 10pts = 50 max</small>"]
        49["ğŸ”² Strategic Reserve<br/><small>50stg Ã— 1pts = 50 max</small>"]
        53["âœ… Mystic Tenacity<br/><small>2stg Ã— 10pts = 20 max</small>"]
        57["ğŸ”² Survival Instincts<br/><small>5stg Ã— 10pts = 50 max</small>"]
        274["ğŸ”² Relentlessness<br/><small>50stg Ã— 1pts = 50 max</small>"]
        275["ğŸ”² Pain's Refuge<br/><small>50stg Ã— 1pts = 50 max</small>"]
        273["ğŸ”² Sustained by Suffering<br/><small>50stg Ã— 1pts = 50 max</small>"]
    end

    subgraph DEFENSE["ğŸ”° DEFENSIVE"]
        direction TB
        39["âœ… Tireless Guardian<br/><small>2stg Ã— 10pts = 20 max</small>"]
        40["âœ… Savage Defense<br/><small>2stg Ã— 15pts = 30 max</small>"]
        60["ğŸ”² On Guard<br/><small>5stg Ã— 10pts = 50 max</small>"]
        44["âœ… Nimble Protector<br/><small>2stg Ã— 3pts = 6 max</small>"]
        43["âœ… Fortification<br/><small>2stg Ã— 15pts = 20 max</small>"]
        268["ğŸ”² Soothing Shield<br/><small>5stg Ã— 10pts = 50 max</small>"]
        267["ğŸ”² Bracing Anchor<br/><small>5stg Ã— 10pts = 50 max</small>"]
        266["ğŸ”² Ward Master<br/><small>5stg Ã— 10pts = 50 max</small>"]
    end

    subgraph EVASION["ğŸ’¨ EVASION & CC"]
        direction TB
        37["âœ… Tumbling<br/><small>2stg Ã— 15pts = 30 max</small>"]
        51["ğŸ”² Expert Evasion<br/><small>50stg Ã— 1pts = 50 max</small>"]
        128["âœ… Defiance<br/><small>2stg Ã— 10pts = 20 max</small>"]
        52["ğŸ”² Slippery<br/><small>50stg Ã— 1pts = 50 max</small>"]
        64["ğŸ”² Unchained<br/><small>50stg Ã— 1pts = 50 max</small>"]
        59["ğŸ”² Juggernaut<br/><small>5stg Ã— 10pts = 50 max</small>"]
        54["ğŸ”² Peace of Mind<br/><small>5stg Ã— 10pts = 50 max</small>"]
        55["ğŸ”² Hardened<br/><small>5stg Ã— 10pts = 50 max</small>"]
    end

    %% Speed connections
    38 -->|"10"| 42
    38 -->|"10"| 62
    42 -->|"10"| 272
    42 -->|"10"| 270
    42 -->|"10"| 271
    113 -->|"10"| 42

    %% Shield connections
    113 -->|"10"| 63
    63 -->|"10"| 46
    46 -->|"10"| 61

    %% Defense connections
    42 -->|"10"| 39
    39 -->|"10"| 40
    39 -->|"10"| 50
    39 -->|"10"| 44
    39 -->|"10"| 43
    39 -->|"10"| 60
    44 -->|"3"| 268
    44 -->|"3"| 267
    44 -->|"3"| 266

    %% Magic connections
    113 -->|"10"| 45
    45 -->|"10"| 58
    57 -->|"10"| 58
    58 -->|"25"| 56
    113 -->|"10"| 47

    %% Health connections
    113 -->|"10"| 48
    113 -->|"10"| 49
    53 -->|"10"| 113
    113 -->|"10"| 53
    53 -->|"10"| 57
    53 -->|"10"| 274
    53 -->|"10"| 275
    53 -->|"10"| 273
    37 -->|"10"| 53

    %% Evasion connections
    37 -->|"10"| 51
    128 -->|"10"| 52
    52 -->|"10"| 64
    128 -->|"10"| 59
    128 -->|"10"| 54
    128 -->|"10"| 55

    %% Class styling
    classDef slotted fill:#1e4d6b,stroke:#5dade2,stroke-width:3px,color:#fff
    classDef unslotted fill:#0d2840,stroke:#3498db,stroke-width:2px,color:#85c1e9

    class 272,270,271,63,46,57,56,61,48,49,274,275,273,47,62,268,267,266,60,51,52,64,59,54,55,35,34,2 slotted
    class 38,42,113,58,45,53,39,40,50,44,43,37,128 unslotted
