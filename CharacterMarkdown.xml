<GuiXml>
    <Controls>
        <!-- Main Window -->
        <TopLevelControl name="CharacterMarkdownWindow" mouseEnabled="true" movable="true" clampedToScreen="true" hidden="true">
            <Dimensions x="1000" y="800" />
            <Anchor point="CENTER" relativeTo="GuiRoot" />
            
            <!-- Background -->
            <Controls>
                <Backdrop name="$(parent)BG" inherits="ZO_DefaultBackdrop">
                    <AnchorFill />
                </Backdrop>
                
                <!-- Title Bar -->
                <Control name="$(parent)Title">
                    <Dimensions x="1000" y="40" />
                    <Anchor point="TOP" />
                    
                    <Controls>
                        <Label name="$(parent)Label" font="ZoFontWinH3" text="Character Markdown Export" color="FFFFFFFF">
                            <Anchor point="LEFT" offsetX="20" />
                        </Label>
                        
                        <!-- Settings Button -->
                        <Button name="$(parent)Settings" inherits="ZO_DefaultButton">
                            <Dimensions x="120" y="30" />
                            <Anchor point="TOPRIGHT" offsetX="-170" offsetY="5" />
                            <OnClicked>
                                CharacterMarkdown_OpenSettings()
                            </OnClicked>
                            <Controls>
                                <Label name="$(parent)Label" font="ZoFontGame" text="Settings" color="FFFFFFFF">
                                    <Anchor point="CENTER" />
                                </Label>
                            </Controls>
                        </Button>
                        
                        <!-- Close Button -->
                        <Button name="$(parent)Close" inherits="ZO_CloseButton">
                            <Anchor point="TOPRIGHT" offsetX="-10" offsetY="5" />
                            <OnClicked>
                                CharacterMarkdownWindow:SetHidden(true)
                            </OnClicked>
                        </Button>
                    </Controls>
                </Control>
                
                <!-- Instructions -->
                <Label name="$(parent)Instructions" font="ZoFontGame" text="Click 'Select All', then Ctrl+A, then Ctrl+C to copy!" color="FFFFFFFF">
                    <Dimensions x="960" y="24" />
                    <Anchor point="TOP" relativeTo="$(parent)Title" relativePoint="BOTTOM" offsetY="10" />
                </Label>
                
                <!-- Text Display Area (NO SCROLL - Direct EditBox) -->
                <Control name="$(parent)TextContainer">
                    <Dimensions x="960" y="640" />
                    <Anchor point="TOP" relativeTo="$(parent)Instructions" relativePoint="BOTTOM" offsetY="10" />
                    
                    <Controls>
                        <!-- Dark background with subtle border -->
                        <Backdrop name="$(parent)BG" centerColor="1a1a1a" edgeColor="666666">
                            <AnchorFill />
                            <Edge edgeSize="2" />
                        </Backdrop>
                        
                        <!-- Direct EditBox without scroll wrapper - READ ONLY -->
                        <EditBox name="$(parent)EditBox" font="ZoFontChat" multiLine="true" maxInputCharacters="1000000" newLineEnabled="true" readonly="true">
                            <Anchor point="TOPLEFT" offsetX="10" offsetY="10" />
                            <Anchor point="BOTTOMRIGHT" offsetX="-10" offsetY="-10" />
                        </EditBox>
                    </Controls>
                </Control>
                
                <!-- Action Buttons -->
                <Control name="$(parent)ButtonContainer">
                    <Dimensions x="960" y="40" />
                    <Anchor point="TOP" relativeTo="$(parent)TextContainer" relativePoint="BOTTOM" offsetY="10" />
                    
                    <Controls>
                        <!-- Regenerate Button -->
                        <Button name="$(parent)RegenerateButton" inherits="ZO_DefaultButton">
                            <Dimensions x="130" y="30" />
                            <Anchor point="LEFT" offsetX="20" />
                            <OnClicked>
                                CharacterMarkdown_RegenerateMarkdown()
                            </OnClicked>
                            <Controls>
                                <Label name="$(parent)Label" font="ZoFontGame" text="Regenerate" color="FFFFFFFF">
                                    <Anchor point="CENTER" />
                                </Label>
                            </Controls>
                        </Button>
                        
                        <!-- Previous Chunk Button -->
                        <Button name="$(parent)PrevChunkButton" inherits="ZO_DefaultButton">
                            <Dimensions x="100" y="30" />
                            <Anchor point="LEFT" offsetX="160" />
                            <OnClicked>
                                CharacterMarkdown_PreviousChunk()
                            </OnClicked>
                            <Controls>
                                <Label name="$(parent)Label" font="ZoFontGame" text="< Prev" color="FFFFFFFF">
                                    <Anchor point="CENTER" />
                                </Label>
                            </Controls>
                        </Button>
                        
                        <!-- Select All Button -->
                        <Button name="$(parent)SelectAllButton" inherits="ZO_DefaultButton">
                            <Dimensions x="130" y="30" />
                            <Anchor point="LEFT" offsetX="270" />
                            <OnClicked>
                                CharacterMarkdown_CopyToClipboard()
                            </OnClicked>
                            <Controls>
                                <Label name="$(parent)Label" font="ZoFontGame" text="Select All" color="FFFFFFFF">
                                    <Anchor point="CENTER" />
                                </Label>
                            </Controls>
                        </Button>
                        
                        <!-- Next Chunk Button -->
                        <Button name="$(parent)NextChunkButton" inherits="ZO_DefaultButton">
                            <Dimensions x="100" y="30" />
                            <Anchor point="LEFT" offsetX="410" />
                            <OnClicked>
                                CharacterMarkdown_NextChunk()
                            </OnClicked>
                            <Controls>
                                <Label name="$(parent)Label" font="ZoFontGame" text="Next >" color="FFFFFFFF">
                                    <Anchor point="CENTER" />
                                </Label>
                            </Controls>
                        </Button>
                        
                        <!-- Dismiss Button -->
                        <Button name="$(parent)Dismiss" inherits="ZO_DefaultButton">
                            <Dimensions x="130" y="30" />
                            <Anchor point="LEFT" offsetX="520" />
                            <OnClicked>
                                CharacterMarkdownWindow:SetHidden(true)
                            </OnClicked>
                            <Controls>
                                <Label name="$(parent)Label" font="ZoFontGame" text="Dismiss" color="FFFFFFFF">
                                    <Anchor point="CENTER" />
                                </Label>
                            </Controls>
                        </Button>
                        
                        <!-- ReloadUI Button -->
                        <Button name="$(parent)ReloadUI" inherits="ZO_DefaultButton">
                            <Dimensions x="130" y="30" />
                            <Anchor point="LEFT" offsetX="660" />
                            <OnClicked>
                                ReloadUI()
                            </OnClicked>
                            <Controls>
                                <Label name="$(parent)Label" font="ZoFontGame" text="ReloadUI" color="FFFFFFFF">
                                    <Anchor point="CENTER" />
                                </Label>
                            </Controls>
                        </Button>
                    </Controls>
                </Control>
            </Controls>
        </TopLevelControl>
    </Controls>
</GuiXml>
